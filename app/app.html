<!DOCTYPE html>
<html>
<head>
  <title>Auto JT</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--<link rel="stylesheet" href="css/jquery.mobile-1.1.1.min.css" />-->
  <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1.1.min.css" />
  <link rel="stylesheet" href="css/my.css" />
  <script type="text/javascript" src="lib/require.js"></script>
  <script type="text/javascript">

    require.config({
      baseUrl: './',
      paths: {
        'jquery': 'lib/jquery-1.8.2.min',
        'jquerymobile': 'lib/jquery.mobile-1.2.0.min',
        'underscore': 'lib/underscore',
        'autojt':'lib/autojt'
      },
      shim: {
        underscore: {
          exports: "_"
        }
      }
    });

    require([
      'underscore',
      'jquery',
      'jquerymobile',
      'autojt'
    ],
      function(_, $, jQueryMobile, autoJT) {
        $(function() {
          // Fields ids to be processed
          var ids = ['business', 'euro', 'science', 'culture'];
          
          $('#submit-button').click(function(){
            var datas = {};
            _.each(ids,function(elem){
              datas[elem] = $('#'+elem).val();
            });

            // Dump the result
            console.log(autoJT.getStupeflixXML(datas));
          })
        });
      });

  </script>
</head>
<body>

        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-role="content">
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-mini="true">
                        <label for="slider5">
                            Duree
                        </label>
                        <input id='duration' name="slider" value="5" min="5" max="30" data-highlight="true" data-theme="" data-track-theme="" type="range" />
                    </fieldset>
                </div>
                <h2 id="title">
                    Themes
                </h2>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-mini="true">
                        <label for="slider1">
                            Business
                        </label>
                        <input id='business' name="slider" value="50" min="0" max="100" data-highlight="true" data-theme="" data-track-theme="" type="range" />
                    </fieldset>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">
                        <label for="slider2">
                            Affaires euro
                        </label>
                        <input id='euro' name="slider" value="50" min="0" max="100" data-highlight="true" type="range" />
                    </fieldset>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">
                        <label for="slider3">
                            Science
                        </label>
                        <input id='science' name="slider" value="50" min="0" max="100" data-highlight="true" type="range" />
                    </fieldset>
                </div>
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup">
                        <label for="slider4">
                            Culture
                        </label>
                        <input id='culture' name="slider" value="50" min="0" max="100" data-highlight="true" type="range" />
                    </fieldset>
                </div>
                <input id='submit-button' data-icon="arrow-r" data-iconpos="left" value="Générer !" type="submit" />
            </div>
        </div>
        <script>
            //App custom javascript
        </script>
</body>
</html>